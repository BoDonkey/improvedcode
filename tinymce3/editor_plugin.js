!function(){var e=tinymce.extend;tinymce.PluginManager.requireLangPack("improvedcode"),tinymce.create("tinymce.plugins.ImprovedCodePlugin",{init:function(n,i){var t=this;t.settings=e({height:580,indentUnit:4,tabSize:4,lineWrapping:!0,lineNumbers:!0,autoIndent:!0,optionsBar:!0,theme:"default"},n.getParam("improvedcode_options")),n.addCommand("mceImprovedCode",function(){n.focus(),n.selection.collapse(!0),n.selection.setContent('<span class="CuRCaRet" style="display:none">&#0;</span>'),n.windowManager.open({file:i+"/improvedcode.htm",width:720,height:t.settings.height,inline:!0,resizable:!0,maximizable:!0},{plugin_url:i,settings:t.settings})}),n.addButton("improvedcode",{title:"improvedcode.desc",cmd:"mceImprovedCode",image:i+"/img/htmlplus.gif",onPostRender:function(){n.on("NodeChange",function(e){ctrl.active("IMG"==e.element.nodeName)})}}),n.onNodeChange.add(function(e,n,i){n.setActive("improvedcode","IMG"==i.nodeName)})},createControl:function(){return null},getInfo:function(){return{longname:"Improved source code highlighter plugin",author:"Agustin Villalba",authorurl:"http://www.agustinvillalba.com",infourl:"http://www.agustinvillalba.com/portfolio.html",version:"1.3.1"}}}),tinymce.PluginManager.add("improvedcode",tinymce.plugins.ImprovedCodePlugin)}();